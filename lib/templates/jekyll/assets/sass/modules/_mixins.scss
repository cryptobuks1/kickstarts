//
// STRUCTURE MIXINS
// --------------------------------------------------

@mixin link-style($link-type) {
    @if $link-type == "normal" {
        text-decoration: none;
        &:hover {
            text-decoration: underline;
        }
    }
    @if $link-type == "unstyled" {
        color: inherit;
        text-decoration: inherit;
        cursor: inherit;
        &:active, &:focus {
            outline: none;
        }
    }
}

// Lists
// ------------------
@mixin list-style($list-type) {
    @if $list-type == "unstyled" {
        list-style-image: none;
        list-style-type: none;
        margin-left: 0;
    }
    @if $list-type == "square" {
        list-style-type: square;
        margin-left: 20px;
    }
}

// Images
// ------------------
@mixin img($style: false, $align: false) {
    @if $align {
        border: none;
        @if $align == "left" {
            @include float(left);
            margin: 0 30px 30px 0;
            border: none;
        }
        @else if $align == "right" {
            @include float(right);
            margin: 0 0 30px 30px;
        }
    }
    @if $style == "circle" {
        @include border-radius(500px);
    }
    @else if $style == "rounded" {
        @include border-radius($base-border-radius);
    }
    @else if $style == "polaroid" {
        padding: 4px;
        background-color: $white;
        border: 1px solid $gray-light;
        border: 1px solid rgba(0,0,0,.2);
        @include box-shadow(0 1px 3px rgba(0,0,0,.1));
    }
}

// Forms
// ------------------

// Generate Input List
$inputs-list: 'input[type="email"]',
'input[type="number"]',
'input[type="password"]',
'input[type="search"]',
'input[type="tel"]',
'input[type="text"]',
'input[type="url"]',

// Webkit & Gecko may change the display of these in the future
'input[type="color"]',
'input[type="date"]',
'input[type="datetime"]',
'input[type="datetime-local"]',
'input[type="month"]',
'input[type="time"]',
'input[type="week"]';

$unquoted-inputs-list: ();
@each $input-type in $inputs-list {
    $unquoted-inputs-list: append($unquoted-inputs-list, unquote($input-type), comma);
}

$all-text-inputs: $unquoted-inputs-list;


// Hover Pseudo-class
$all-text-inputs-hover: ();
@each $input-type in $unquoted-inputs-list {
    $input-type-hover: $input-type + ":hover";
    $all-text-inputs-hover: append($all-text-inputs-hover, $input-type-hover, comma);
}

// Focus Pseudo-class
$all-text-inputs-focus: ();
@each $input-type in $unquoted-inputs-list {
    $input-type-focus: $input-type + ":focus";
    $all-text-inputs-focus: append($all-text-inputs-focus, $input-type-focus, comma);
}

// Input Sizes
@mixin input-size($size) {
    @if $size == "mini" {
        @include column($columns/$columns);
    }
    @else if $size == "small" {
        @include column($columns/4 - 1);
    }
    @else if $size == "medium" {
        @include column($columns/2);
    }
    @else if $size == "large" {
        @include column($columns/2 + $columns/4);
    }
    @else if $size == "full" {
        display: block;
        width: 100%;
        min-height: $input-height; // Make inputs at least the height of their button counterpart(line-height + padding + border)
        @include box-sizing(border-box); // Makes inputs behave like true block-level elements
    }
}

// Placeholder text
$placeholders: '-webkit-input-placeholder',
               '-moz-placeholder',
               '-ms-input-placeholder';

@mixin placeholder() {
  @each $placeholder in $placeholders {
    @if $placeholder == "-webkit-input-placeholder" {
      &::#{$placeholder} {
        @content;
      }
    }
    @else if $placeholder == "-moz-placeholder" {
      // FF 18-
      &:#{$placeholder} {
        @content;
      }

      // FF 19+
      &::#{$placeholder} {
        @content;
      }
    }
    @else {
      &:#{$placeholder} {
        @content;
      }
    }
  }
}


//
// LEGACY MIXINS
// --------------------------------------------------

// Inline Block
@mixin legacy-inline-block($alignment: $inline-block-alignment) {
    @if $legacy-support-for-mozilla {
        display: -moz-inline-stack;
    }
        display: inline-block;
    @if $alignment and $alignment != none {
        vertical-align: $alignment;
    }
    @if $legacy-support-for-ie {
        *vertical-align: auto;
        zoom: 1;
        *display: inline;
    }
}

// IE7 likes to collapse whitespace on either side of the inline-block elements.
// Ems because we're attempting to match the width of a space character. Left
// version is for form buttons, which typically come after other elements, and
// right version is for icons, which come before. Applying both is ok, but it will
// mean that space between those elements will be .6em (~2 space characters) in IE7,
// instead of the 1 space in other browsers.
@mixin legacy-restore-left-whitespace() {
    *margin-left: .3em;

    &:first-child {
        *margin-left: 0;
    }
}

@mixin legacy-restore-right-whitespace() {
    *margin-right: .3em;
}

// Reset filters for IE
@mixin legacy-reset-filter() {
  filter: progid:DXImageTransform.Microsoft.gradient(enabled=false);
}


//
// MEDIA QUERIES MIXINS
// --------------------------------------------------

@mixin respond-to($media-query) {

    @if $media-query == tvscreen {
        @media (min-width: $tvscreen) { @content; }
    }

    @if $media-query == tablet {
        @media (min-width: $tablet) and  (max-width: $desktop) { @content; }
    }

    @if $media-query == mobile {
        @media (max-width:$mobile) { @content; }
    }

}


//
// UTILITY MIXINS
// --------------------------------------------------

// The micro clearfix http://nicolasgallagher.com/micro-clearfix-hack/
@mixin clearfix() {
    *zoom:1;

    &:before,
    &:after {
        content:"";
        display:table;
    }
    &:after {
        clear:both;
    }
}


// Webkit-style focus
// ------------------
@mixin tab-focus() {
    // Default
    outline: thin dotted #333;
    // Webkit
    outline: 5px auto -webkit-focus-ring-color;
    outline-offset: -2px;
}


// Center-align a block level element
// ----------------------------------
@mixin center-block() {
    float: none;
    display: block;
    margin-left: auto;
    margin-right: auto;
}


// Sizing shortcuts
// -------------------------
@mixin size($height, $width) {
    width: $width;
    height: $height;
}
@mixin square($size) {
    @include size($size, $size);
}


// Font Size
// -------------------------
@mixin relative-font-size($base-font-size: 1.6, $line-height: true){
    font-size: ($base-font-size * 1) + px;
    font-size: ($base-font-size / 10 * 0.625) + rem;
    @if $line-height == true {
        line-height: ($base-font-size * 1) + px;
        line-height: ($base-font-size / 10 * 0.625) + rem;
    }
}


// Text overflow
// -------------------------
// Requires inline-block or block for proper styling
@mixin text-overflow() {
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
}


// CSS image replacement
// -------------------------
// Source: https://github.com/h5bp/html5-boilerplate/commit/aa0396eae757
@mixin hide-text() {
    font: 0/0 a;
    color: transparent;
    text-shadow: none;
    background-color: transparent;
    border: 0;
}


// Optimize Font
// -------------------------
@mixin optimize-font() {
    font-smooth: always;
    -webkit-font-smoothing: antialiased;
    text-rendering: optimizeLegibility;
}


// Image Rendering
// -------------------------
@mixin image-rendering($mode:optimizeQuality) {

  @if $mode == "optimize-contrast" {
      image-rendering: -moz-crisp-edges;
      image-rendering: -o-crisp-edges;
      image-rendering: -webkit-optimize-contrast;
      image-rendering: optimize-contrast;
  }

  @else {
      image-rendering: $mode;
  }
}


// Font Face
// -------------------------
// Order of the includes matters, and it is: normal, bold, italic, bold+italic.
@mixin font-face($font-family, $file-path, $weight: normal, $style: normal, $asset-pipeline: false ) {
  @font-face {
    font-family: $font-family;
    font-weight: $weight;
    font-style: $style;

    @if $asset-pipeline == true {
      src: font-url('#{$file-path}.eot');
      src: font-url('#{$file-path}.eot?#iefix')          format('embedded-opentype'),
           font-url('#{$file-path}.woff')                format('woff'),
           font-url('#{$file-path}.ttf')                 format('truetype'),
           font-url('#{$file-path}.svg##{$font-family}') format('svg');
    } @else {
      src: url('#{$file-path}.eot');
      src: url('#{$file-path}.eot?#iefix')               format('embedded-opentype'),
           url('#{$file-path}.woff')                     format('woff'),
           url('#{$file-path}.ttf')                      format('truetype'),
           url('#{$file-path}.svg##{$font-family}')      format('svg');
    }
  }
}


// Arrows
// -------------------------
@mixin arrow($size, $color, $direction) {
    height: 0;
    width: 0;

    @if ($direction == up) or ($direction == down) or ($direction == right) or ($direction == left) {
        border-color: transparent;
        border-style: solid;
        border-width: $size / 2;

        @if $direction == up {
            border-bottom-color: $color;

        } @else if $direction == right {
            border-left-color:   $color;

        } @else if $direction == down {
            border-top-color:    $color;

        } @else if $direction == left {
            border-right-color:  $color;
        }
    }

    @else if ($direction == up-right) or ($direction == up-left) {
        border-top: $size solid $color;

        @if $direction == up-right {
            border-left:  $size solid transparent;

        } @else if $direction == up-left {
            border-right: $size solid transparent;
        }
    }

    @else if ($direction == down-right) or ($direction == down-left) {
        border-bottom: $size solid $color;

        @if $direction == down-right {
            border-left:  $size solid transparent;

        } @else if $direction == down-left {
            border-right: $size solid transparent;
        }
    }
}


// Sprites (with retina)
// -------------------------
@mixin retina-sprite($name, $hover: false, $active: false) {
  @include _retina-sprite($name, $sprites, $sprites2x, $hover, $active);
}

// The general purpose retina sprite mixin.
  //
  //    @include retina-sprite(name, $spritemap1, $spritemap2)
  //    @include retina-sprite(name, $spritemap1, $spritemap2[, $dimensions: true, $pad: 0])
  //
  //    If `dimensions` is true, then width/height will also be set.
  //
  //    if `pad` is non-zero, then that's how much padding the element will have (requires
  //    $spacing on the sprite maps). Great for iPhone interfaces to make hit areas bigger.
  //
@mixin _retina-sprite($name, $sprites, $sprites2x, $hover, $active, $dimensions: true, $pad: 0) {
  @if $dimensions == true {
    @include sprite-dimensions($sprites, $name);
  }
  background-image: sprite-url($sprites);
  background-position: sprite-position($sprites, $name, -$pad, -$pad);
  background-repeat: no-repeat;

  @if $hover == true {
    $name_hover: $name + _hover;
    &:hover {
      background-position: sprite-position($sprites, $name_hover, -$pad, -$pad);
    }
  }
  @if $active == true {
    $name_active: $name + _active;
    &:active {
      background-position: sprite-position($sprites, $name_active, -$pad, -$pad);
    }
  }

  @if $pad > 0 {
    padding: $pad;
  }

  @media (-webkit-min-device-pixel-ratio: 1.5), (min--moz-device-pixel-ratio: 1.5), (-o-min-device-pixel-ratio: 3/2), (min-device-pixel-ratio: 1.5), (min-resolution: 144dpi) {
    & {
      $pos: sprite-position($sprites2x, $name, -$pad * 2, -$pad * 2);
      background-image: sprite-url($sprites2x);
      background-position: nth($pos, 1) / 2 nth($pos, 2) / 2;
      @include background-size(ceil(image-width(sprite-path($sprites2x)) / 2) auto);
      //  sprite-path() returns the path of the generated sprite sheet, which
      //  image-width() calculates the width of. the ceil() is in place in case
      //  you have sprites that have an odd-number of pixels in width

      @if $hover == true {
        $name_hover: $name + _hover;    // create myButton_hover and assign it
        &:hover{
          $pos: sprite-position($sprites2x, $name_hover, -$pad * 2, -$pad * 2);
          background-position: nth($pos, 1) / 2 nth($pos, 2) / 2;
        }
      }
      @if $active == true {
        $name_active: $name + _active;    // create myButton_active and assign it
        &:active{
          $pos: sprite-position($sprites2x, $name_active, -$pad * 2, -$pad * 2);
          background-position: nth($pos, 1) / 2 nth($pos, 2) / 2;
        }
      }
    }
  }
}


//
// RESET AND NORMALIZE MIXINS
// --------------------------------------------------


// Eric Meyer Reset
// -------------------------------
@mixin meyer-reset() {
  // /* http://meyerweb.com/eric/tools/css/reset/
  //  * v2.0 | 20110126
  //  * License: none (public domain) */
  html, body, div, span, applet, object, iframe, h1, h2, h3, h4, h5, h6, p, blockquote, pre, a, abbr, acronym, address, big, cite, code, del, dfn, em, img, ins, kbd, q, s, samp, small, strike, strong, sub, sup, tt, var, b, u, i, center, dl, dt, dd, ol, ul, li, fieldset, form, label, legend, table, caption, tbody, tfoot, thead, tr, th, td, article, aside, canvas, details, embed, figure, figcaption, footer, header, hgroup, menu, nav, output, ruby, section, summary, time, mark, audio, video {
    margin: 0;
    padding: 0;
    border: 0;
    font-size: 100%;
    font: inherit;
    vertical-align: baseline;
  }
  // /* HTML5 display-role reset for older browsers */
  article, aside, details, figcaption, figure, footer, header, hgroup, menu, nav, section {
    display: block;
  }
  body {
    line-height: 1;
  }
  ol, ul {
    list-style: none;
  }
  blockquote, q {
    quotes: none;
    &:before, &:after {
      content: "";
      content: none;
    }
  }
  table {
    border-collapse: collapse;
    border-spacing: 0;
  }
}


// Normalize Reset
// -------------------------------

@mixin normalize-reset() {

  /* ==========================================================================
     Normalize.scss settings
     ========================================================================== */
  /**
   * Includes legacy browser support IE6/7
   *
   * Set to false if you want to drop support for IE6 and IE7
   */

  /* ==========================================================================
     HTML5 display definitions
     ========================================================================== */

  /*
   * Corrects `block` display not defined in IE 8/9.
   */

  article,
  aside,
  details,
  figcaption,
  figure,
  footer,
  header,
  hgroup,
  main,
  nav,
  section,
  summary {
      display: block;
  }

  /**
   * Correct `inline-block` display not defined in IE 6/7/8/9 and Firefox 3.
   */

  audio,
  canvas,
  video {
      display: inline-block;
      @if $legacy-support == true {
          *display: inline;
          *zoom: 1;
      }
  }

  /**
   * Prevents modern browsers from displaying `audio` without controls.
   * Remove excess height in iOS 5 devices.
   */

  audio:not([controls]) {
      display: none;
      height: 0;
  }

  /**
   * Address styling not present in IE 8/9.
   */

  [hidden] {
      display: none;
  }

  ::selection      { background: #1f8adb; color: white; }
  ::-moz-selection { background: #1f8adb; color: white; }

  /* ==========================================================================
     Base
     ========================================================================== */

  /**
   * 1. Set default font family to sans-serif.
   * 2. Prevent iOS text size adjust after orientation change, without disabling
   *    user zoom.
   * 3.Corrects text resizing oddly in IE 6/7 when body `font-size` is set using
   *    `em` units.
   */

  html {
      @if $legacy-support == true {
          font-size: 100%; /* 1 */
      }
      font-family: sans-serif; /* 1 */
      -webkit-text-size-adjust: 100%; /* 2 */
      -ms-text-size-adjust: 100%; /* 2 */
  }

  /**
   * Remove default margin.
   */

  body {
      margin: 0;
  }

  /* ==========================================================================
     Links
     ========================================================================== */

  /**
   * Address `outline` inconsistency between Chrome and other browsers.
   */

  /**
   * Improves readability when focused and also mouse hovered in all browsers.
   */

  a {
      &:focus {
          outline: thin dotted;
      }
      &:active, &:hover {
          outline: 0;
      };
  }


  /* ==========================================================================
     Typography
     ========================================================================== */

  /**
   * Addresses font sizes and margins set differently in IE 6/7.
   * Address variable `h1` font-size and margin within `section` and `article`
   * contexts in Firefox 4+, Safari 5, and Chrome.
   */

  h1 {
      font-size: 2em;
      margin: 0.67em 0;
      @if $legacy-support == true {
          margin: 0.67em 0;
      }
  }

  @if $legacy-support == true {
      h2 {
          font-size: 1.5em;
          margin: 0.83em 0;
      }

      h3 {
          font-size: 1.17em;
          margin: 1em 0;
      }

      h4 {
          font-size: 1em;
          margin: 1.33em 0;
      }

      h5 {
          font-size: 0.83em;
          margin: 1.67em 0;
      }

      h6 {
          font-size: 0.75em;
          margin: 2.33em 0;
      }
  }

  /**
   * Address styling not present in IE 8/9, Safari 5, and Chrome.
   */

  abbr[title] {
      border-bottom: 1px dotted;
  }

  /**
   * Address style set to `bolder` in Firefox 4+, Safari 5, and Chrome.
   */

  b,
  strong {
      font-weight: bold;
  }

  @if $legacy-support == true {
      blockquote {
          margin: 1em 40px;
      }
  }

  /**
   * Address styling not present in Safari 5 and Chrome.
   */

  dfn {
      font-style: italic;
  }

  /**
   * Address differences between Firefox and other browsers.
   */

  hr {
      -moz-box-sizing: content-box;
      box-sizing: content-box;
      height: 0;
  }

  /**
   * Addresses styling not present in IE 8/9.
   */

  mark {
      background: #ff0;
      color: #000;
  }

  /**
   * Addresses margins set differently in IE 6/7.
   */

  @if $legacy-support == true {
      p,
      pre {
          margin: 1em 0;
      }
  }

  /**
   * Correct font family set oddly in Safari 5 and Chrome.
   */

  code,
  kbd,
  pre,
  samp {
      font-family: monospace, serif;
      @if $legacy-support == true {
          _font-family: 'courier new', monospace;
      }
      font-size: 1em;
  }

  /**
   * Improve readability of pre-formatted text in all browsers.
   */

  pre {
      white-space: pre-wrap;
  }

  /**
   *  Set consistent quote types.
   */

  q {
      quotes: "\201C" "\201D" "\2018" "\2019";
  }

  @if $legacy-support == true {
      /*
       * Addresses CSS quotes not supported in IE 6/7.
       */

      q {
          quotes: none;
      }

      /*
       * Addresses `quotes` property not supported in Safari 4.
       */

      q:before,
      q:after {
          content: '';
          content: none;
      }
  }

  /**
   * Address inconsistent and variable font size in all browsers.
   */

  small {
      font-size: 80%;
  }

  /**
   * Prevent `sub` and `sup` affecting `line-height` in all browsers.
   */

  sub,
  sup {
      font-size: 75%;
      line-height: 0;
      position: relative;
      vertical-align: baseline;
  }

  sup {
      top: -0.5em;
  }

  sub {
      bottom: -0.25em;
  }

  @if $legacy-support == true {

      /* ==========================================================================
         Lists
         ========================================================================== */

      /*
       * Addresses margins set differently in IE 6/7.
       */

      dl,
      menu,
      ol,
      ul {
          margin: 1em 0;
      }

      dd {
          margin: 0 0 0 40px;
      }

      /*
       * Addresses paddings set differently in IE 6/7.
       */

      menu,
      ol,
      ul {
          padding: 0 0 0 40px;
      }

      /*
       * Corrects list images handled incorrectly in IE 7.
       */

      nav ul,
      nav ol {
          list-style: none;
          list-style-image: none;
      }

  }

  /* ==========================================================================
     Embedded content
     ========================================================================== */

  /**
   * 1. Remove border when inside `a` element in IE 8/9.
   * 2. Improves image quality when scaled in IE 7.
   */

  img {
      border: 0;
      @if $legacy-support == true {
          -ms-interpolation-mode: bicubic; /* 2 */
      }
  }

  /**
   * Correct overflow displayed oddly in IE 9.
   */

  svg:not(:root) {
      overflow: hidden;
  }

  /* ==========================================================================
     Figures
     ========================================================================== */

  /**
   * Address margin not present in IE 8/9 and Safari 5.
   */

  figure {
      margin: 0;
  }

  /* ==========================================================================
     Forms
     ========================================================================== */

  /**
   * Define consistent border, margin, and padding.
   */

  fieldset {
      border: 1px solid #c0c0c0;
      margin: 0 2px;
      padding: 0.35em 0.625em 0.75em;
  }

  /**
   * 1. Correct `color` not being inherited in IE 8/9.
   * 2. Remove padding so people aren't caught out if they zero out fieldsets.
   * 3. Corrects text not wrapping in Firefox 3.
   * 4. Corrects alignment displayed oddly in IE 6/7.
   */

  legend {
      border: 0; /* 1 */
      padding: 0; /* 2 */
      @if $legacy-support == true {
          white-space: normal; /* 2 */
          *margin-left: -7px; /* 3 */
      }
  }

  /**
   * 1. Correct font family not being inherited in all browsers.
   * 2. Correct font size not being inherited in all browsers.
   * 3. Address margins set differently in Firefox 4+, Safari 5, and Chrome.
   * 4. Improves appearance and consistency in all browsers.
   */

  button,
  input,
  select,
  textarea {
      font-family: inherit; /* 1 */
      font-size: 100%; /* 2 */
      margin: 0; /* 3 */
      @if $legacy-support == true {
          vertical-align: baseline; /* 3 */
          *vertical-align: middle; /* 3 */
      }
  }

  /**
   * Address Firefox 4+ setting `line-height` on `input` using `!important` in
   * the UA stylesheet.
   */

  button,
  input {
      line-height: normal;
  }

  /**
   * Address inconsistent `text-transform` inheritance for `button` and `select`.
   * All other form control elements do not inherit `text-transform` values.
   * Correct `button` style inheritance in Chrome, Safari 5+, and IE 8+.
   * Correct `select` style inheritance in Firefox 4+ and Opera.
   */

  button,
  select {
      text-transform: none;
  }

  /**
   * 1. Avoid the WebKit bug in Android 4.0.* where (2) destroys native `audio`
   *    and `video` controls.
   * 2. Correct inability to style clickable `input` types in iOS.
   * 3. Improve usability and consistency of cursor style between image-type
   *    `input` and others.
   * 4. Removes inner spacing in IE 7 without affecting normal text inputs.
   *    Known issue: inner spacing remains in IE 6.
   */

  button,
  html input[type="button"], /* 1 */
  input[type="reset"],
  input[type="submit"] {
      -webkit-appearance: button; /* 2 */
      cursor: pointer; /* 3 */
      @if $legacy-support == true {
          *overflow: visible;  /* 4 */
      }
  }

  /**
   * Re-set default cursor for disabled elements.
   */

  button[disabled],
  html input[disabled] {
      cursor: default;
  }

  /**
   * 1. Address box sizing set to `content-box` in IE 8/9.
   * 2. Remove excess padding in IE 8/9.
   * 3. Removes excess padding in IE 7.
   *    Known issue: excess padding remains in IE 6.
   */

  input[type="checkbox"],
  input[type="radio"] {
      box-sizing: border-box; /* 1 */
      padding: 0; /* 2 */
      @if $legacy-support == true {
          *height: 13px; /* 3 */
          *width: 13px; /* 3 */
      }
  }

  /**
   * 1. Address `appearance` set to `searchfield` in Safari 5 and Chrome.
   * 2. Address `box-sizing` set to `border-box` in Safari 5 and Chrome
   *    (include `-moz` to future-proof).
   */

  input[type="search"] {
      -webkit-appearance: textfield; /* 1 */
      -moz-box-sizing: content-box;
      -webkit-box-sizing: content-box; /* 2 */
      box-sizing: content-box;
  }

  /**
   * Remove inner padding and search cancel button in Safari 5 and Chrome
   * on OS X.
   */

  input[type="search"]::-webkit-search-cancel-button,
  input[type="search"]::-webkit-search-decoration {
      -webkit-appearance: none;
  }

  /**
   * Remove inner padding and border in Firefox 4+.
   */

  button::-moz-focus-inner,
  input::-moz-focus-inner {
      border: 0;
      padding: 0;
  }

  /**
   * 1. Remove default vertical scrollbar in IE 8/9.
   * 2. Improve readability and alignment in all browsers.
   */

  textarea {
      overflow: auto; /* 1 */
      vertical-align: top; /* 2 */
  }

  /* ==========================================================================
     Tables
     ========================================================================== */

  /**
   * Remove most spacing between table cells.
   */

  table {
      border-collapse: collapse;
      border-spacing: 0;
  }

}


//
// Custom Reset
// ----------------------------------------------------

@mixin custom-reset() {

}